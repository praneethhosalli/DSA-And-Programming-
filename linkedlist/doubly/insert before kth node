# Definition of doubly linked list:
# class ListNode:
#     def __init__(self, val=0, next=None, prev=None):
#         self.val = val
#         self.next = next
#         self.prev = prev

class Solution:
    def insertBeforeKthPosition(self, head, X, K):

        curr = head 

        if (K == 1 ):
            newnode = ListNode(X , curr , None )
            curr.prev = newnode
            return newnode 

        for i in range(K-1):
            if (curr.next ):
                curr = curr.next
            else :
                return head 

        # for i in range(K-1):
        #     curr = curr.next
            

        newnode = ListNode(X ,curr , curr.prev )

        curr.prev.next = newnode
        curr.prev = newnode 

        return head 


